;String.prototype.format=function(){var args=arguments;return this.replace(/\{(\d+)\}/g,function(m,i){return args[i]})};function randomcolor(){var str=Math.ceil(Math.random()*16777215).toString(16);if(str.length<6){str="0"+str}return"#"+str}function createTags(max,min){$(".tagWrapper a").each(function(){var count=parseInt($(this).attr("data-count"),0);var size=10;if(count<min||max==min)size=10;else{size=Math.floor(50*(count-min)/(max-min))}if(size<10)size=10;$(this).css({"font-size":size+"px",color:randomcolor()});var color=randomcolor();$(this).hover(function(){$(this).css("background-color",color)},function(){$(this).css("background-color","")})})};$(document).ready(function(){var editors={};var aritlceid=$(".post").attr("articleid").toString();function run_md_editor(){var converter=new Showdown.converter;editors[""]=new Markdown.Editor(converter);editors[""].run();$(".content,.commet-content").each(function(){var value=$(this).text().trim();$(this).html(converter.makeHtml(value))});$(".reply_editor").each(function(){var editor_id=$(this).attr("id");var suffix=editor_id.slice(editor_id.indexOf("-"));editors[suffix]=new Markdown.Editor(converter,suffix);editors[suffix].run()})}run_md_editor();$(".preview-btn").click(function(){var href=$(this).attr("href");var index=href.lastIndexOf("-");var suffix=index<0?"":href.slice(index);editors[suffix].makePreviewHtml();prettyPrint()});$("#submit_btn").click(function(){$("#create_comment_form").submit()});$(".submit_reply").click(function(){var url="/"+aritlceid+"/comment/"+$(this).closest(".comment").attr("cid").toString();var data=$("textarea",$(this).closest(".reply_area")).val();$.ajax({url:url,type:"post",data:{t_content:data},success:function(comment){location.href=location.href}})});$(".reply_btn").toggle(function(){var parent=$(this).closest(".comment");var reply_area=$(".reply_area",parent);reply_area.show();$("textarea",reply_area).val("@"+$(".name",parent).text())},function(){$(".reply_area",$(this).closest(".comment")).hide()})})